(()=>{console.log("scrubImage");let t=gsap.utils.toArray("[scrub-wrapper]"),e=document.documentElement.clientWidth,a=window.innerHeight,n=gsap.matchMedia(),i=0,r=0;function o(){t.forEach(function(t){let n=t.dataset.prefix||null,o=t.dataset.suffix||null,s=t.dataset.framecount||0,c=t.querySelector("canvas");c&&n&&o&&s&&(i+=Number(s),r+=Number(s),function(t,n,o,s,c,u){var m=n.getContext("2d");n.width=e,n.height=a;for(var f=[],l=0;l<c;l++){var g,w=new Image,p=(g=l,`${o}${u}/${(g+1).toString().padStart(3,"0")}${s}`);w.onload=function(){d(p),i===r-1&&function(t,e,a,n){var i={frame:0};t.querySelectorAll("[frames-play]").forEach(function(t){var i=Number(t.dataset.start),r=Number(t.dataset.end),o=t.dataset.startPos||"top top",d=t.dataset.endPos||"bottom bottom",s={frame:0};gsap.timeline({onUpdate:function(){h(e,s,a,n)},scrollTrigger:{trigger:t,pin:!1,scrub:1,start:o,end:d,markers:!1}}).fromTo(s,{frame:i-1},{frame:r-1,snap:"frame",ease:"none",duration:1},0)}),h(e,i,a,n),window.addEventListener("resize",function(){n.width=document.documentElement.clientWidth,n.height=window.innerHeight,h(e,i,a,n)})}(t,f,m,n)},w.onerror=function(){d(p)},w.src=p,f.push(w)}}(t,c,n,o,s,e>=768?"desktop":"mobile"))})}function d(t){0==--i&&setTimeout(function(){lenis.resize()},500)}function h(t,e,a,n){var i=t[e.frame];a.clearRect(0,0,n.width,n.height),i.width,i.height;var r=Math.max(n.width/i.width,n.height/i.height),o=i.width*r,d=i.height*r,h=n.width/2-o/2,s=n.height/2-d/2;a.drawImage(i,h,s,o,d)}n.add("(min-width: 768px)",()=>{o()}),n.add("(max-width: 767px)",()=>{o()})})();
//# sourceMappingURL=scrubImageSequence.js.map
