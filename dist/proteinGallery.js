(()=>{var e=globalThis,t={},i={},r=e.parcelRequire5744;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var r=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},e.parcelRequire5744=r),(0,r.register)("kpGgi",function(e,t){function i(e){if(!e)throw Error("Element is required");return parseFloat(window.getComputedStyle(e).height)/function(e){let t=document.createElement("div");t.style.position="absolute",t.style.visibility="hidden",t.style.width=e,document.body.appendChild(t);let i=parseFloat(window.getComputedStyle(t).width);return document.body.removeChild(t),i}(window.getComputedStyle(document.documentElement).fontSize)}Object.defineProperty(e.exports,"getElementHeightInRem",{get:()=>i,set:void 0,enumerable:!0,configurable:!0})});var o=r("kpGgi");function n(e,t){let i=e.querySelector(".protein-gallery_item-trigger").querySelectorAll(".circle-hide"),r=e.querySelector(".protein-gallery_row"),o=e.querySelector(".protein-gallery_item-inner-wrapper");if(e.classList.remove("active"),t)gsap.set(i,{scale:1}),gsap.set(o,{height:"0",opacity:0,visibility:"hidden"}),gsap.set(r,{opacity:1});else{let e=gsap.timeline();e.to(i,{scale:1,duration:.3,ease:"expo.out"},0),e.to(o,{height:"0",opacity:0,duration:.5,ease:"expo.out"},0),e.to(o,{visibility:"hidden",duration:0},.5),e.to(r,{opacity:1,duration:.5,ease:"expo.out"},0)}}document.addEventListener("alpine:init",()=>{Alpine.store("purchaseForm",{isOpen:!1,list:[],addItem(e,t){let i=this.list.findIndex(t=>t.name===e);-1===i?this.list.push({name:e,quantity:Number(t)}):this.list[i].quantity+=Number(t)},removeItem(e){this.list.splice(e,1)},addQuantity(e){let t=this.list.findIndex(t=>t.name===e.name);-1!==t&&this.list[t].quantity++},subtractQuantity(e){let t=this.list.findIndex(t=>t.name===e.name);-1!==t&&this.list[t].quantity>0&&this.list[t].quantity--},purchaseListFormatted(){return this.list.map(e=>`${e.name} (${e.quantity}mg)`).join("; \n")},totalItems(){return 1===this.list.length?`${this.list.length} item`:`${this.list.length} items`}}),function(e){let t=document.querySelectorAll(".protein-gallery_item");if(!t)return;let i=-1;t.forEach((r,o)=>{let l=r.querySelector(".protein-gallery_item-trigger"),a=r.querySelector(".protein-gallery_inner-wrapper"),s=r.querySelector(".protein-purchase_quantity-number"),u=r.querySelector(".protein_purchase-quantity-button.plus"),c=r.querySelector(".protein_purchase-quantity-button.minus"),p=r.querySelector(".protein-gallery_item-name"),d=r.querySelector(".protein-purchase .button");gsap.set(a,{height:0}),l.addEventListener("click",e=>{i===o?(n(r),i=-1):(-1!==i&&n(t[i]),function(e){let t=e.querySelector(".protein-gallery_item-trigger").querySelectorAll(".circle-hide"),i=e.querySelector(".protein-gallery_row"),r=e.querySelector(".protein-gallery_item-inner-wrapper");e.classList.add("active");let o=gsap.timeline();o.to(i,{opacity:0,duration:.5,ease:"expo.out"},0),o.to(t,{scale:0,duration:.3,ease:"expo.out"},0),o.to(r,{visibility:"visible",duration:0},0),o.to(r,{height:"auto",opacity:1,duration:.5,ease:"expo.out"},0)}(r),i=o)}),d.addEventListener("click",()=>{console.log(p,p.innerText,s.value),e.addItem(p.innerText,s.value)}),u.addEventListener("click",e=>{e.preventDefault(),s.value=parseFloat(Number(s.value)+.1).toFixed(1)}),c.addEventListener("click",e=>{e.preventDefault(),Number(s.value)>0&&(s.value=parseFloat(Number(s.value)-.1).toFixed(1))})})}(Alpine.store("purchaseForm")),function(e){let t=document.querySelector(".purchase-form_trigger"),i=(0,o.getElementHeightInRem)(t),r=document.querySelector(".purchase-form_close"),n=r.querySelectorAll("circle"),l=document.querySelector(".purchase-form"),a=document.querySelector(".purchase-form_inner"),s=document.querySelector(".purchase-form_backdrop");gsap.set(l,{visibility:"hidden",opacity:0}),gsap.set(a,{height:`${i}rem`}),gsap.set(s,{opacity:0,backdropFilter:"blur(0px)"}),gsap.set(r,{visibility:"hidden"}),gsap.set(n,{opacity:0});let u=gsap.timeline({paused:!0});u.set(l,{visibility:"visible"}).to(t,{opacity:0,duration:.5,ease:"expo.inOut"},0).to(s,{display:"block",opacity:1,backdropFilter:"blur(24px)",duration:.5,ease:"expo.inOut"},0).to(a,{height:"auto",duration:.5,ease:"expo.inOut"},0).to(l,{opacity:1,duration:.5,ease:"expo.inOut"},0).set(r,{visibility:"visible"}).to(n,{opacity:1,duration:.01,stagger:{each:.05,from:"random"},ease:"expo.inOut"},.5).set(t,{visibility:"hidden"}),t.addEventListener("click",()=>{u.play(),e.isOpen=!0}),r.addEventListener("click",()=>{u.reverse(),e.isOpen=!1}),r.addEventListener("mouseover",()=>{gsap.fromTo(n,{opacity:0},{opacity:1,duration:.01,stagger:{each:.05,from:"random"},ease:"none"})})}(Alpine.store("purchaseForm"))}),window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",e=>{let[t]=e;t.listInstance.on("renderitems",e=>{!function(){let e=document.querySelector(".protein-gallery_item.active");e&&(n(e,!0),currentItemIndex=-1)}()})}])})();
//# sourceMappingURL=proteinGallery.js.map
